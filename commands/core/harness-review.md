---
description: ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆçµ„ã¿è¾¼ã¿ review ã¨ã®è¡çªå›žé¿ï¼‰
description-en: Code review (multi-perspective security/performance/quality)
context: fork
hooks:
  - event: PreCommandInvoke
    type: command
    command: "${CLAUDE_PLUGIN_ROOT}/scripts/check-codex.sh"
    once: true
---

# /harness-review - ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆã‚½ãƒ­ãƒ¢ãƒ¼ãƒ‰ï¼‰

ä½œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
è¤‡æ•°ã®è¦³ç‚¹ã‹ã‚‰åˆ†æžã—ã€æ”¹å–„ç‚¹ã‚’ææ¡ˆã—ã¾ã™ã€‚

---

## ðŸ’¡ ãƒã‚¤ãƒ–ã‚³ãƒ¼ãƒ€ãƒ¼å‘ã‘ã®ä½¿ã„æ–¹

**ã“ã®ã‚³ãƒžãƒ³ãƒ‰ã¯ã€æŠ€è¡“çš„ãªçŸ¥è­˜ãŒãªãã¦ã‚‚é«˜å“è³ªãªã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å—ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚**

- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å•é¡Œã‚’è‡ªå‹•æ¤œå‡º
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã®æ”¹å–„ç‚¹ã‚’ææ¡ˆ
- âœ… ã‚³ãƒ¼ãƒ‰å“è³ªã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- âœ… ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã‚’ç¢ºèª

**å—è¨—é–‹ç™ºã§é‡è¦**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å®‰å¿ƒã—ã¦ã‚‚ã‚‰ã†ãŸã‚ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœã‚’ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦æå‡ºã§ãã¾ã™

---

## ðŸ”§ è‡ªå‹•å‘¼ã³å‡ºã—ã‚¹ã‚­ãƒ«ï¼ˆå¿…é ˆï¼‰

**ã“ã®ã‚³ãƒžãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®ã‚¹ã‚­ãƒ«ã‚’ Skill ãƒ„ãƒ¼ãƒ«ã§æ˜Žç¤ºçš„ã«å‘¼ã³å‡ºã™ã“ã¨**ï¼š

| ã‚¹ã‚­ãƒ« | ç”¨é€” | å‘¼ã³å‡ºã—ã‚¿ã‚¤ãƒŸãƒ³ã‚° |
|-------|------|------------------|
| `review` | ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆè¦ªã‚¹ã‚­ãƒ«ï¼‰ | ãƒ¬ãƒ“ãƒ¥ãƒ¼é–‹å§‹æ™‚ |
| `codex-review` | Codex ã‚»ã‚«ãƒ³ãƒ‰ã‚ªãƒ”ãƒ‹ã‚ªãƒ³ | Codex æœ‰åŠ¹æ™‚ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰ |

**å‘¼ã³å‡ºã—æ–¹æ³•**:
```
Skill ãƒ„ãƒ¼ãƒ«ã‚’ä½¿ç”¨:
  skill: "claude-code-harness:review"
```

**å­ã‚¹ã‚­ãƒ«ï¼ˆè‡ªå‹•ãƒ«ãƒ¼ãƒ†ã‚£ãƒ³ã‚°ï¼‰**:
- `review-security` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `review-performance` - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `review-quality` - ã‚³ãƒ¼ãƒ‰å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼
- `review-accessibility` - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `review-aggregate` - ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœã®é›†ç´„

> âš ï¸ **é‡è¦**: ã‚¹ã‚­ãƒ«ã‚’å‘¼ã³å‡ºã•ãšã«é€²ã‚ã‚‹ã¨ usage çµ±è¨ˆã«è¨˜éŒ²ã•ã‚Œã¾ã›ã‚“ã€‚å¿…ãš Skill ãƒ„ãƒ¼ãƒ«ã§å‘¼ã³å‡ºã—ã¦ãã ã•ã„ã€‚

---

## ðŸ”§ LSP æ©Ÿèƒ½ã®æ´»ç”¨

ãƒ¬ãƒ“ãƒ¥ãƒ¼ã§ã¯ LSPï¼ˆLanguage Server Protocolï¼‰ã‚’æ´»ç”¨ã—ã¦ã€ã‚ˆã‚Šç²¾åº¦ã®é«˜ã„åˆ†æžã‚’è¡Œã„ã¾ã™ã€‚

### LSP Diagnostics ã«ã‚ˆã‚‹ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

```
ðŸ“Š LSP è¨ºæ–­çµæžœ

ãƒ•ã‚¡ã‚¤ãƒ«: src/components/UserForm.tsx

| è¡Œ | é‡è¦åº¦ | ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ |
|----|--------|-----------|
| 15 | Error | åž‹ 'string' ã‚’åž‹ 'number' ã«å‰²ã‚Šå½“ã¦ã‚‹ã“ã¨ã¯ã§ãã¾ã›ã‚“ |
| 23 | Warning | 'tempData' ã¯å®£è¨€ã•ã‚Œã¦ã„ã¾ã™ãŒã€ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã›ã‚“ |
| 42 | Info | ã“ã® async é–¢æ•°ã«ã¯ await ãŒã‚ã‚Šã¾ã›ã‚“ |

â†’ åž‹ã‚¨ãƒ©ãƒ¼ãƒ»æœªä½¿ç”¨å¤‰æ•°ã‚’è‡ªå‹•æ¤œå‡º
```

### LSP Find-references ã«ã‚ˆã‚‹å½±éŸ¿ç¯„å›²åˆ†æž

å¤‰æ›´ã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ãŒã©ã“ã§ä½¿ã‚ã‚Œã¦ã„ã‚‹ã‹ã‚’ LSP ã§åˆ†æžï¼š

```
ðŸ” å¤‰æ›´ã®å½±éŸ¿ç¯„å›²

å¤‰æ›´: src/utils/formatDate.ts

å‚ç…§ç®‡æ‰€:
â”œâ”€â”€ src/components/DateDisplay.tsx:12
â”œâ”€â”€ src/components/EventCard.tsx:45
â”œâ”€â”€ src/pages/Dashboard.tsx:78
â””â”€â”€ tests/utils/formatDate.test.ts:5

â†’ 4ãƒ•ã‚¡ã‚¤ãƒ«ã«å½±éŸ¿
â†’ ãƒ†ã‚¹ãƒˆã§ã‚«ãƒãƒ¼ã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª âœ…
```

### ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ã¸ã®çµ±åˆ

| ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ | LSP æ´»ç”¨ |
|-------------|---------|
| **å“è³ª** | Diagnostics ã§åž‹ã‚¨ãƒ©ãƒ¼ãƒ»æœªä½¿ç”¨ã‚³ãƒ¼ãƒ‰ã‚’æ¤œå‡º |
| **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£** | å‚ç…§åˆ†æžã§æ©Ÿå¯†ãƒ‡ãƒ¼ã‚¿ã®æµã‚Œã‚’è¿½è·¡ |
| **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹** | å®šç¾©ã‚¸ãƒ£ãƒ³ãƒ—ã§é‡ã„å‡¦ç†ã®å®Ÿè£…ã‚’ç¢ºèª |

### VibeCoder å‘ã‘ã®è¨€ã„æ–¹

| ã‚„ã‚ŠãŸã„ã“ã¨ | è¨€ã„æ–¹ |
|-------------|--------|
| åž‹ã‚¨ãƒ©ãƒ¼ã‚’ãƒã‚§ãƒƒã‚¯ | ã€ŒLSPè¨ºæ–­ã‚’å«ã‚ã¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ã¦ã€ |
| å¤‰æ›´ã®å½±éŸ¿ã‚’çŸ¥ã‚ŠãŸã„ | ã€Œã“ã®å¤‰æ›´ãŒã©ã“ã«å½±éŸ¿ã™ã‚‹ã‹èª¿ã¹ã¦ã€ |

è©³ç´°: [docs/LSP_INTEGRATION.md](../../docs/LSP_INTEGRATION.md)

---

## ã“ã®ã‚³ãƒžãƒ³ãƒ‰ã®ç›®çš„

**å—è¨—é–‹ç™ºã®å“è³ªä¿è¨¼**ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚

- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æå‡ºã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’æ‹…ä¿
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚’äº‹å‰ã«æ¤œå‡º
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹å•é¡Œã‚’æ—©æœŸç™ºè¦‹
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã‚’ç¢ºèª

---

## å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

### Step 0: Codex ã‚»ã‚«ãƒ³ãƒ‰ã‚ªãƒ”ãƒ‹ã‚ªãƒ³ç¢ºèªï¼ˆonce hook ã§è‡ªå‹•å®Ÿè¡Œï¼‰

**åˆå›žå®Ÿè¡Œæ™‚ã« `once: true` hook ã«ã‚ˆã‚Š Codex ã®æœ‰ç„¡ã‚’è‡ªå‹•ç¢ºèªã—ã¾ã™ã€‚**

ã“ã®ã‚³ãƒžãƒ³ãƒ‰ã® frontmatter ã«å®šç¾©ã•ã‚ŒãŸ hook:
```yaml
hooks:
  - event: PreCommandInvoke
    type: command
    command: "${CLAUDE_PLUGIN_ROOT}/scripts/check-codex.sh"
    once: true
```

**å‹•ä½œ**:
- ã‚»ãƒƒã‚·ãƒ§ãƒ³å†…ã§æœ€åˆã® `/harness-review` å®Ÿè¡Œæ™‚ã®ã¿ `check-codex.sh` ãŒå®Ÿè¡Œã•ã‚Œã‚‹
- Codex ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚Œã°ã€æœ‰åŠ¹åŒ–æ–¹æ³•ã‚’æ¡ˆå†…
- 2å›žç›®ä»¥é™ã¯è‡ªå‹•ã‚¹ã‚­ãƒƒãƒ—ï¼ˆ`once: true` ã®åŠ¹æžœï¼‰

**Codex ã‚’æœ‰åŠ¹åŒ–ã™ã‚‹å ´åˆ**:

ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ`.claude-code-harness.config.yaml`ï¼‰ã«ä»¥ä¸‹ã‚’è¿½åŠ :
```yaml
review:
  codex:
    enabled: true
```

> ðŸ’¡ **æ‰‹å‹•ã§ Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿å®Ÿè¡Œã—ãŸã„å ´åˆ**: `/codex-review` ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

---

### Step 1: å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã®ç‰¹å®š

```bash
# ç›´è¿‘ã®å¤‰æ›´ã‚’ç¢ºèª
git diff --name-only HEAD~5 2>/dev/null || find . -name "*.ts" -o -name "*.tsx" -o -name "*.py" | head -20
```

### Step 2: ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å®Ÿè¡Œ

ä»¥ä¸‹ã®è¦³ç‚¹ã§ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚**Task tool**ã‚’ä½¿ç”¨ã—ã¦è¤‡æ•°ã®ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’åŒæ™‚ã«èµ·å‹•ã—ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚é–“ã‚’çŸ­ç¸®ã—ã¾ã™ã€‚

**ðŸ’¡ éžåŒæœŸã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹çœŸã®ä¸¦åˆ—å®Ÿè¡Œ**:
å„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å€‹åˆ¥ã«å®Ÿè¡Œã—ã€`Ctrl+B`ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã«é€ã‚‹ã“ã¨ã§ã€å®Œå…¨ã«ä¸¦åˆ—ã§å®Ÿè¡Œã§ãã¾ã™ã€‚è©³ç´°ã¯[éžåŒæœŸã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰](../docs/ASYNC_SUBAGENTS.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**æ‰‹å‹•ä¸¦åˆ—å®Ÿè¡Œã®æ‰‹é †**:
1. `/harness-review security` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
2. `/harness-review performance` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
3. `/harness-review quality` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
4. `/harness-review accessibility` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
5. å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå®Œäº†ã™ã‚‹ã¨è‡ªå‹•çš„ã«é€šçŸ¥ã•ã‚Œã¾ã™

**ãƒ¢ãƒ¼ãƒ‰åˆ¥ã®ä¸¦åˆ—å®Ÿè¡Œ:**

#### Default ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`review.mode: default`ï¼‰- Task tool ã§ code-reviewer ã‚’4ä¸¦åˆ—èµ·å‹•

```
ðŸ” ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é–‹å§‹...

Task tool #1: subagent_type="code-reviewer" â†’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è¦³ç‚¹
Task tool #2: subagent_type="code-reviewer" â†’ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹è¦³ç‚¹
Task tool #3: subagent_type="code-reviewer" â†’ å“è³ªè¦³ç‚¹
Task tool #4: subagent_type="code-reviewer" â†’ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£è¦³ç‚¹

â†’ 4ã¤ã®ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒä¸¦åˆ—å®Ÿè¡Œ
â†’ çµæžœã‚’çµ±åˆã—ã¦ç·åˆè©•ä¾¡ã‚’å‡ºåŠ›
```

#### Codex ãƒ¢ãƒ¼ãƒ‰ï¼ˆ`review.mode: codex`ï¼‰- å¿…è¦ãªã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã®ã¿ MCP ä¸¦åˆ—å®Ÿè¡Œ

**âš ï¸ é‡è¦: 1å›žã®å‘¼ã³å‡ºã—ã§è¤‡æ•°ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã‚’ã¾ã¨ã‚ãªã„ã“ã¨**

```
ðŸ” Codex ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é–‹å§‹...

1. å‘¼ã³å‡ºã™ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã‚’åˆ¤å®šï¼ˆå…¨éƒ¨ã§ã¯ãªãå¿…è¦ãªã‚‚ã®ã®ã¿ï¼‰:
   - è¨­å®šã§ enabled: false â†’ é™¤å¤–
   - CLI/ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ â†’ Accessibility, SEO é™¤å¤–
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ã¿å¤‰æ›´ â†’ Quality, Architect, Plan Reviewer, Scope Analyst ã‚’å„ªå…ˆ

2. æœ‰åŠ¹ãªã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã® experts/*.md ã‹ã‚‰ãƒ—ãƒ­ãƒ³ãƒ—ãƒˆã‚’å€‹åˆ¥ã«èª­ã¿è¾¼ã‚€

3. æœ‰åŠ¹ãªã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã®ã¿ mcp__codex__codex ã‚’1ãƒ¬ã‚¹ãƒãƒ³ã‚¹å†…ã§ä¸¦åˆ—å®Ÿè¡Œ:
   ä¾‹: Webãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã§ã‚³ãƒ¼ãƒ‰å¤‰æ›´ã‚ã‚Š â†’ 6ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆä¸¦åˆ—
   mcp__codex__codex({prompt: security-expert.md})
   mcp__codex__codex({prompt: accessibility-expert.md})
   mcp__codex__codex({prompt: performance-expert.md})
   mcp__codex__codex({prompt: quality-expert.md})
   mcp__codex__codex({prompt: seo-expert.md})
   mcp__codex__codex({prompt: architect-expert.md})

â†’ å¿…è¦ãªã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã®ã¿ä¸¦åˆ—å®Ÿè¡Œï¼ˆã‚³ã‚¹ãƒˆæœ€é©åŒ–ï¼‰
â†’ å„ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã®çµæžœã‚’çµ±åˆã—ã¦åˆ¤å®š
```

**è©³ç´°**: `skills/codex-review/references/codex-parallel-review.md`

ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ï¼š

#### ðŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯

- [ ] ç’°å¢ƒå¤‰æ•°ã®é©åˆ‡ãªç®¡ç†
- [ ] å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
- [ ] XSSå¯¾ç­–
- [ ] èªè¨¼ãƒ»èªå¯ã®å®Ÿè£…

#### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯

- [ ] ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- [ ] N+1ã‚¯ã‚¨ãƒª
- [ ] é‡ã„è¨ˆç®—ã®æœ€é©åŒ–
- [ ] ç”»åƒãƒ»ã‚¢ã‚»ãƒƒãƒˆã®æœ€é©åŒ–

#### ðŸ“ ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

- [ ] TypeScriptåž‹ã®é©åˆ‡ãªä½¿ç”¨
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] å‘½åè¦å‰‡ã®ä¸€è²«æ€§
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã®é©åˆ‡ã•

#### â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ï¼ˆWebã®å ´åˆï¼‰

- [ ] ã‚»ãƒžãƒ³ãƒ†ã‚£ãƒƒã‚¯HTML
- [ ] altãƒ†ã‚­ã‚¹ãƒˆ
- [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
- [ ] ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ

### Step 2.5: çµæžœçµ±åˆã¨ Codex æ¤œè¨¼ï¼ˆCodex æœ‰åŠ¹æ™‚ï¼‰

**`codex.enabled: true` ã®å ´åˆã€Claude ãŒ Codex ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœã‚’æ¤œè¨¼ã—ã€ä¿®æ­£ãŒå¿…è¦ã‹ã©ã†ã‹ã‚’åˆ¤æ–­ã—ã¾ã™ã€‚**

```
ðŸ“Š ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœçµ±åˆä¸­...

1. Claude 4è¦³ç‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœã‚’é›†ç´„
2. Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœã‚’å–å¾—
3. Claude ãŒ Codex ã®æŒ‡æ‘˜ã‚’æ¤œè¨¼
   - å¦¥å½“ãªæŒ‡æ‘˜ã‹ï¼Ÿ
   - ä¿®æ­£ãŒå¿…è¦ã‹ï¼Ÿ
   - å„ªå…ˆåº¦ã¯ï¼Ÿ
```

**çµæžœã®çµ±åˆã¨æ¤œè¨¼**:

```markdown
## ðŸ“Š ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœæ¯”è¼ƒ

| è¦³ç‚¹ | Claude | Codex | ä¸€è‡´ |
|------|--------|-------|------|
| ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ | 2ä»¶ | 1ä»¶ | 1ä»¶å…±é€š |
| ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ | 1ä»¶ | 2ä»¶ | 1ä»¶å…±é€š |

### ðŸ”´ ä¸¡è€…ãŒæŒ‡æ‘˜ï¼ˆå„ªå…ˆåº¦é«˜ãƒ»ä¿®æ­£æŽ¨å¥¨ï¼‰
- SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã®å¯èƒ½æ€§ï¼ˆsrc/api/users.ts:45ï¼‰
  â†’ **Claude æ¤œè¨¼**: å¦¥å½“ã€‚ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿åŒ–ã‚¯ã‚¨ãƒªã«ä¿®æ­£ãŒå¿…è¦

### ðŸŸ¡ Claude ã®ã¿æŒ‡æ‘˜
- æœªä½¿ç”¨å¤‰æ•°ï¼ˆsrc/utils/helpers.ts:12ï¼‰
  â†’ **ä¿®æ­£æŽ¨å¥¨**: å‰Šé™¤ã¾ãŸã¯ä½¿ç”¨

### ðŸŸ¢ Codex ã®ã¿æŒ‡æ‘˜ï¼ˆClaude æ¤œè¨¼æ¸ˆã¿ï¼‰
- N+1 ã‚¯ã‚¨ãƒªã®å¯èƒ½æ€§ï¼ˆsrc/api/posts.ts:30ï¼‰
  â†’ **Claude æ¤œè¨¼**: å¦¥å½“ã€‚prefetch ã‚’è¿½åŠ ã™ã¹ã
```

**ä¿®æ­£ææ¡ˆã¨æ‰¿èªãƒ•ãƒ­ãƒ¼**:

```markdown
## ðŸ”§ ä¿®æ­£ãŒå¿…è¦ãªé …ç›®

ä»¥ä¸‹ã®ä¿®æ­£ã‚’ Plans.md ã«è¿½åŠ ã—ã¦ `/work` ã§å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ

| # | ä¿®æ­£å†…å®¹ | ãƒ•ã‚¡ã‚¤ãƒ« | å„ªå…ˆåº¦ |
|---|---------|----------|--------|
| 1 | SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­– | src/api/users.ts:45 | é«˜ |
| 2 | N+1 ã‚¯ã‚¨ãƒªä¿®æ­£ | src/api/posts.ts:30 | ä¸­ |
| 3 | æœªä½¿ç”¨å¤‰æ•°å‰Šé™¤ | src/utils/helpers.ts:12 | ä½Ž |

**é¸æŠžè‚¢:**
1. ã™ã¹ã¦æ‰¿èª â†’ Plans.md ã«è¿½åŠ ã—ã¦ `/work` å®Ÿè¡Œ
2. é¸æŠžã—ã¦æ‰¿èª â†’ ç•ªå·ã‚’æŒ‡å®šï¼ˆä¾‹: 1,2ï¼‰
3. ä»Šã¯ä¿®æ­£ã—ãªã„ â†’ ãƒ¬ãƒãƒ¼ãƒˆã®ã¿ä¿å­˜
```

**æ‰¿èªå¾Œã®ãƒ•ãƒ­ãƒ¼**:

```
ãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èª
    â†“
Plans.md ã«ä¿®æ­£ã‚¿ã‚¹ã‚¯ã‚’è¿½åŠ 
    â†“
/work ã‚’è‡ªå‹•å®Ÿè¡Œï¼ˆã¾ãŸã¯å®Ÿè¡Œã‚’ææ¡ˆï¼‰
    â†“
ä¿®æ­£å®Œäº†å¾Œã«å†ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
```

> ðŸ’¡ **Codex ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®ã¿ã‚’å®Ÿè¡Œã—ãŸã„å ´åˆ**: `/codex-review` ã‚³ãƒžãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãã ã•ã„

---

### Step 3: ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœã®å‡ºåŠ›

> ðŸ“Š **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœ**
>
> **ç·åˆè©•ä¾¡**: {{A / B / C / D}}
>
> ---
>
> ### ðŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ### ðŸ“ ã‚³ãƒ¼ãƒ‰å“è³ª: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ### â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ---
>
> ### ðŸ”§ æ”¹å–„ææ¡ˆ
>
> 1. {{å…·ä½“çš„ãªæ”¹å–„ç‚¹1}}
> 2. {{å…·ä½“çš„ãªæ”¹å–„ç‚¹2}}
>
> **è‡ªå‹•ã§ä¿®æ­£ã—ã¾ã™ã‹ï¼Ÿ** (y / n / é¸æŠž)

### Step 4: æ”¹å–„ã®å®Ÿè¡Œï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªå¾Œï¼‰

æ‰¿èªã•ã‚ŒãŸæ”¹å–„ã‚’è‡ªå‹•ã§å®Ÿè¡Œï¼š

```bash
# ä¾‹: ESLintè‡ªå‹•ä¿®æ­£
npx eslint --fix src/

# ä¾‹: Prettieré©ç”¨
npx prettier --write src/
```

### Step 5: å®Œäº†å ±å‘Š

> âœ… **ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†**
>
> **ä¿®æ­£ã—ãŸé …ç›®:**
> - {{ä¿®æ­£1}}
> - {{ä¿®æ­£2}}
>
> **æ¬¡ã«ã‚„ã‚‹ã“ã¨:**
> ã€Œã‚³ãƒŸãƒƒãƒˆã—ã¦ã€ã¾ãŸã¯ã€Œæ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚ºã¸ã€ã¨è¨€ã£ã¦ãã ã•ã„ã€‚

### Step 6: ã‚³ãƒŸãƒƒãƒˆã‚¬ãƒ¼ãƒ‰é€£æºï¼ˆã‚³ãƒŸãƒƒãƒˆå‰ãƒ¬ãƒ“ãƒ¥ãƒ¼å¿…é ˆåŒ–ï¼‰

**ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœãŒ APPROVE ã®å ´åˆã€ã‚³ãƒŸãƒƒãƒˆã‚’è¨±å¯ã™ã‚‹çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”Ÿæˆã—ã¾ã™ã€‚**

ã“ã®æ©Ÿèƒ½ã«ã‚ˆã‚Šã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã—ã§ã‚³ãƒŸãƒƒãƒˆã—ã‚ˆã†ã¨ã™ã‚‹ã¨ãƒ–ãƒ­ãƒƒã‚¯ã•ã‚Œã¾ã™ã€‚

**å‹•ä½œãƒ•ãƒ­ãƒ¼**:
```
/harness-review å®Ÿè¡Œ
    â†“
ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœãŒ APPROVE
    â†“
.claude/state/review-approved.json ã‚’ç”Ÿæˆ
    â†“
git commit ãŒè¨±å¯ã•ã‚Œã‚‹
    â†“
ã‚³ãƒŸãƒƒãƒˆæˆåŠŸå¾Œã€review-approved.json ã‚’ã‚¯ãƒªã‚¢
    â†“
æ¬¡å›žã®ã‚³ãƒŸãƒƒãƒˆå‰ã«å†åº¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒå¿…è¦
```

**çŠ¶æ…‹ãƒ•ã‚¡ã‚¤ãƒ«ã®ç”Ÿæˆï¼ˆAPPROVE æ™‚ã«è‡ªå‹•å®Ÿè¡Œï¼‰**:

```bash
# ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæžœãŒ APPROVE ã®å ´åˆã€ä»¥ä¸‹ã‚’å®Ÿè¡Œ
mkdir -p .claude/state
cat > .claude/state/review-approved.json << 'EOF'
{
  "judgment": "APPROVE",
  "approved_at": "{{ISO 8601 timestamp}}",
  "reviewed_files": ["{{changed_files}}"],
  "review_summary": "{{summary}}"
}
EOF
```

**ã‚³ãƒŸãƒƒãƒˆã‚¬ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹åŒ–ã—ãŸã„å ´åˆ**:

`.claude-code-harness.config.yaml` ã«ä»¥ä¸‹ã‚’è¿½åŠ :
```yaml
commit_guard: false
```

> ðŸ’¡ **æ³¨æ„**: ã‚³ãƒŸãƒƒãƒˆã‚¬ãƒ¼ãƒ‰ã‚’ç„¡åŠ¹åŒ–ã™ã‚‹ã¨ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼ãªã—ã§ã‚³ãƒŸãƒƒãƒˆã§ãã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚å“è³ªä¿è¨¼ã®ãŸã‚ã€æœ¬ç•ªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯æœ‰åŠ¹ã®ã¾ã¾ã«ã™ã‚‹ã“ã¨ã‚’æŽ¨å¥¨ã—ã¾ã™ã€‚

---

## ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ã®è©³ç´°

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

```typescript
// âŒ æ‚ªã„ä¾‹
const apiKey = "sk-1234567890"  // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰

// âœ… è‰¯ã„ä¾‹
const apiKey = process.env.API_KEY  // ç’°å¢ƒå¤‰æ•°
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹

```typescript
// âŒ æ‚ªã„ä¾‹
const Component = () => {
  const data = heavyCalculation()  // æ¯Žå›žè¨ˆç®—
  return <div>{data}</div>
}

// âœ… è‰¯ã„ä¾‹
const Component = () => {
  const data = useMemo(() => heavyCalculation(), [])
  return <div>{data}</div>
}
```

### ã‚³ãƒ¼ãƒ‰å“è³ª

```typescript
// âŒ æ‚ªã„ä¾‹
function f(x: any) { return x.y.z }  // anyåž‹ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãªã—

// âœ… è‰¯ã„ä¾‹
function getNestedValue(obj: NestedObject): string | null {
  return obj?.y?.z ?? null
}
```

---

## VibeCoder å‘ã‘ç°¡æ˜“ç‰ˆ

æŠ€è¡“çš„ãªè©³ç´°ãŒä¸è¦ãªå ´åˆï¼š

> ðŸ“Š **ãƒã‚§ãƒƒã‚¯çµæžœ**
>
> - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: âœ… OK
> - é€Ÿåº¦: âœ… OK
> - ã‚³ãƒ¼ãƒ‰å“è³ª: âš ï¸ 2ä»¶ã®æ”¹å–„ç‚¹
>
> ã€Œç›´ã—ã¦ã€ã¨è¨€ãˆã°è‡ªå‹•ã§ä¿®æ­£ã—ã¾ã™ã€‚

---

## ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```
/harness-review              # å…¨ã¦ãƒã‚§ãƒƒã‚¯
/harness-review security     # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ã¿
/harness-review performance  # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹ã®ã¿
/harness-review quick        # ç°¡æ˜“ãƒã‚§ãƒƒã‚¯
```

---

## âš¡ ä¸¦åˆ—å®Ÿè¡Œã®åˆ¤æ–­ãƒã‚¤ãƒ³ãƒˆ

ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£/ãƒ‘ãƒ•ã‚©ãƒ¼ãƒžãƒ³ã‚¹/å“è³ª/ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£/Codexï¼‰ã¯**äº’ã„ã«ç‹¬ç«‹**ã—ã¦ã„ã‚‹ãŸã‚ã€ä¸¦åˆ—å®Ÿè¡ŒãŒåŠ¹æžœçš„ã§ã™ã€‚

### ä¸¦åˆ—å®Ÿè¡Œã™ã¹ãå ´åˆ âœ…

| æ¡ä»¶ | ç†ç”± |
|------|------|
| ãƒ•ãƒ«ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆ4è¦³ç‚¹ã™ã¹ã¦ï¼‰ | æ™‚é–“çŸ­ç¸®åŠ¹æžœãŒæœ€å¤§ |
| Codex æœ‰åŠ¹æ™‚ï¼ˆ5è¦³ç‚¹ï¼‰ | Codex ã‚‚ä¸¦åˆ—ã§å®Ÿè¡Œ |
| å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ãŒ 5 ã¤ä»¥ä¸Š | å„è¦³ç‚¹ã®å‡¦ç†æ™‚é–“ãŒé•·ããªã‚‹ |
| æ€¥ã„ã§çµæžœã‚’çŸ¥ã‚ŠãŸã„ | PR ãƒžãƒ¼ã‚¸å‰ãªã© |

**ä¸¦åˆ—å®Ÿè¡Œã®åŠ¹æžœï¼ˆCodex æœ‰åŠ¹æ™‚ï¼‰**:
```
ðŸš€ ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼é–‹å§‹...
â”œâ”€â”€ [Security] åˆ†æžä¸­... â³
â”œâ”€â”€ [Performance] åˆ†æžä¸­... â³
â”œâ”€â”€ [Quality] åˆ†æžä¸­... â³
â”œâ”€â”€ [Accessibility] åˆ†æžä¸­... â³
â””â”€â”€ [Codex] ã‚»ã‚«ãƒ³ãƒ‰ã‚ªãƒ”ãƒ‹ã‚ªãƒ³å–å¾—ä¸­... â³

â±ï¸ æ‰€è¦æ™‚é–“: 35ç§’ï¼ˆCodex é€æ¬¡å®Ÿè¡Œãªã‚‰+30ç§’ï¼‰
```

### ç›´åˆ—å®Ÿè¡Œã™ã¹ãå ´åˆ âš ï¸

| æ¡ä»¶ | ç†ç”± |
|------|------|
| å˜ä¸€è¦³ç‚¹ã®ã¿ï¼ˆ`/harness-review security`ï¼‰ | ä¸¦åˆ—åŒ–ä¸è¦ |
| å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ãŒ 1-2 ã¤ | å„è¦³ç‚¹ã®å‡¦ç†ãŒçŸ­ã„ |
| 1ã¤ãšã¤å•é¡Œã‚’ç¢ºèªã—ãŸã„ | å¯¾è©±çš„ã«ä¿®æ­£ã‚’é€²ã‚ãŸã„ |

### è‡ªå‹•åˆ¤æ–­ãƒ­ã‚¸ãƒƒã‚¯

```
ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ >= 3 ã‹ã¤ å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ« >= 5 â†’ ä¸¦åˆ—å®Ÿè¡Œï¼ˆTask toolï¼‰
ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ < 3 ã¾ãŸã¯ å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ« < 5 â†’ ç›´åˆ—å®Ÿè¡Œ
```

### æ‰‹å‹•ã§ä¸¦åˆ—å®Ÿè¡Œã™ã‚‹æ–¹æ³•

```bash
# ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã§ä¸¦åˆ—å®Ÿè¡Œ
/harness-review security     # â†’ Ctrl+B ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
/harness-review performance  # â†’ Ctrl+B ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
/harness-review quality      # â†’ Ctrl+B ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
/harness-review accessibility # æœ€å¾Œã¯å¾…æ©Ÿ

# çµæžœã‚’çµ±åˆã—ã¦å ±å‘Š
```
