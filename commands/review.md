# /review - ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ï¼ˆã‚½ãƒ­ãƒ¢ãƒ¼ãƒ‰ï¼‰

ä½œæˆã—ãŸã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’ãƒã‚§ãƒƒã‚¯ã—ã¾ã™ã€‚
è¤‡æ•°ã®è¦³ç‚¹ã‹ã‚‰åˆ†æã—ã€æ”¹å–„ç‚¹ã‚’ææ¡ˆã—ã¾ã™ã€‚

---

## ğŸ’¡ ãƒã‚¤ãƒ–ã‚³ãƒ¼ãƒ€ãƒ¼å‘ã‘ã®ä½¿ã„æ–¹

**ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€æŠ€è¡“çš„ãªçŸ¥è­˜ãŒãªãã¦ã‚‚é«˜å“è³ªãªã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å—ã‘ã‚‰ã‚Œã‚‹ã‚ˆã†ã«è¨­è¨ˆã•ã‚Œã¦ã„ã¾ã™ã€‚**

- âœ… ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®å•é¡Œã‚’è‡ªå‹•æ¤œå‡º
- âœ… ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®æ”¹å–„ç‚¹ã‚’ææ¡ˆ
- âœ… ã‚³ãƒ¼ãƒ‰å“è³ªã‚’è‡ªå‹•ãƒã‚§ãƒƒã‚¯
- âœ… ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã‚’ç¢ºèª

**å—è¨—é–‹ç™ºã§é‡è¦**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å®‰å¿ƒã—ã¦ã‚‚ã‚‰ã†ãŸã‚ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœã‚’ãƒ¬ãƒãƒ¼ãƒˆã¨ã—ã¦æå‡ºã§ãã¾ã™

---

## ä½¿ç”¨ã™ã‚‹ã‚¹ã‚­ãƒ«

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®ã‚¹ã‚­ãƒ«ã‚’æ´»ç”¨ã—ã¾ã™ï¼š

- `ccp-review-security` - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `ccp-review-performance` - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `ccp-review-quality` - ã‚³ãƒ¼ãƒ‰å“è³ªãƒ¬ãƒ“ãƒ¥ãƒ¼
- `ccp-review-accessibility` - ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒ¬ãƒ“ãƒ¥ãƒ¼
- `ccp-review-aggregate` - ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœã®é›†ç´„

---

## ã“ã®ã‚³ãƒãƒ³ãƒ‰ã®ç›®çš„

**å—è¨—é–‹ç™ºã®å“è³ªä¿è¨¼**ã‚’è‡ªå‹•åŒ–ã—ã¾ã™ã€‚

- ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æå‡ºã™ã‚‹ã‚³ãƒ¼ãƒ‰ã®å“è³ªã‚’æ‹…ä¿
- ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒªã‚¹ã‚¯ã‚’äº‹å‰ã«æ¤œå‡º
- ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œã‚’æ—©æœŸç™ºè¦‹
- ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£å¯¾å¿œã‚’ç¢ºèª

---

## å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

### Step 1: å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã®ç‰¹å®š

```bash
# ç›´è¿‘ã®å¤‰æ›´ã‚’ç¢ºèª
git diff --name-only HEAD~5 2>/dev/null || find . -name "*.ts" -o -name "*.tsx" -o -name "*.py" | head -20
```

### Step 2: ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å®Ÿè¡Œ

ä»¥ä¸‹ã®è¦³ç‚¹ã§ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚**Task tool**ã‚’ä½¿ç”¨ã—ã¦è¤‡æ•°ã®ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚’åŒæ™‚ã«èµ·å‹•ã—ã€ãƒ¬ãƒ“ãƒ¥ãƒ¼æ™‚é–“ã‚’çŸ­ç¸®ã—ã¾ã™ã€‚

**ğŸ’¡ éåŒæœŸã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã«ã‚ˆã‚‹çœŸã®ä¸¦åˆ—å®Ÿè¡Œ**:
å„ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å€‹åˆ¥ã«å®Ÿè¡Œã—ã€`Ctrl+B`ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã«é€ã‚‹ã“ã¨ã§ã€å®Œå…¨ã«ä¸¦åˆ—ã§å®Ÿè¡Œã§ãã¾ã™ã€‚è©³ç´°ã¯[éåŒæœŸã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‚¬ã‚¤ãƒ‰](../docs/ASYNC_SUBAGENTS.md)ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

**æ‰‹å‹•ä¸¦åˆ—å®Ÿè¡Œã®æ‰‹é †**:
1. `/review security` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
2. `/review performance` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
3. `/review quality` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
4. `/review accessibility` ã‚’å®Ÿè¡Œ â†’ `Ctrl+B` ã§ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰ã¸
5. å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆãŒå®Œäº†ã™ã‚‹ã¨è‡ªå‹•çš„ã«é€šçŸ¥ã•ã‚Œã¾ã™

```python
# ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã®å®Ÿè£…ä¾‹
import subprocess
import json

# å¤‰æ›´ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—
result = subprocess.run(
    ["git", "diff", "--name-only", "HEAD~5"],
    capture_output=True, text=True
)
changed_files = result.stdout.strip().split('\n')

# 4ã¤ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ã‚’å®šç¾©
review_tasks = [
    {
        "focus": "security",
        "prompt": f"ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š{changed_files}",
        "skill": "ccp-review-security"
    },
    {
        "focus": "performance",
        "prompt": f"ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š{changed_files}",
        "skill": "ccp-review-performance"
    },
    {
        "focus": "quality",
        "prompt": f"ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚³ãƒ¼ãƒ‰å“è³ªã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š{changed_files}",
        "skill": "ccp-review-quality"
    },
    {
        "focus": "accessibility",
        "prompt": f"ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã ã•ã„ï¼š{changed_files}",
        "skill": "ccp-review-accessibility"
    }
]

# Claude Codeã®Task toolã‚’ä½¿ç”¨ã—ã¦ä¸¦åˆ—å®Ÿè¡Œ
# æ³¨ï¼šå®Ÿéš›ã«ã¯Claude CodeãŒè‡ªå‹•çš„ã«ä¸¦åˆ—åŒ–ã—ã¾ã™
print("ğŸ” ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é–‹å§‹ã—ã¾ã™...")
for task in review_tasks:
    print(f"  - {task['focus']}: {task['skill']}")

# çµæœã¯å„ã‚µãƒ–ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆã‹ã‚‰è¿”ã•ã‚Œã€
# ccp-review-aggregateã‚¹ã‚­ãƒ«ã§çµ±åˆã•ã‚Œã¾ã™
```

ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ï¼š

#### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯

- [ ] ç’°å¢ƒå¤‰æ•°ã®é©åˆ‡ãªç®¡ç†
- [ ] å…¥åŠ›ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
- [ ] SQLã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³å¯¾ç­–
- [ ] XSSå¯¾ç­–
- [ ] èªè¨¼ãƒ»èªå¯ã®å®Ÿè£…

#### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒã‚§ãƒƒã‚¯

- [ ] ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°
- [ ] N+1ã‚¯ã‚¨ãƒª
- [ ] é‡ã„è¨ˆç®—ã®æœ€é©åŒ–
- [ ] ç”»åƒãƒ»ã‚¢ã‚»ãƒƒãƒˆã®æœ€é©åŒ–

#### ğŸ“ ã‚³ãƒ¼ãƒ‰å“è³ªãƒã‚§ãƒƒã‚¯

- [ ] TypeScriptå‹ã®é©åˆ‡ãªä½¿ç”¨
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°
- [ ] å‘½åè¦å‰‡ã®ä¸€è²«æ€§
- [ ] ãƒ•ã‚¡ã‚¤ãƒ«æ§‹æˆã®é©åˆ‡ã•

#### â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯ï¼ˆWebã®å ´åˆï¼‰

- [ ] ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯HTML
- [ ] altãƒ†ã‚­ã‚¹ãƒˆ
- [ ] ã‚­ãƒ¼ãƒœãƒ¼ãƒ‰æ“ä½œ
- [ ] ã‚«ãƒ©ãƒ¼ã‚³ãƒ³ãƒˆãƒ©ã‚¹ãƒˆ

### Step 3: ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœã®å‡ºåŠ›

> ğŸ“Š **ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœ**
>
> **ç·åˆè©•ä¾¡**: {{A / B / C / D}}
>
> ---
>
> ### ğŸ”’ ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ### âš¡ ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ### ğŸ“ ã‚³ãƒ¼ãƒ‰å“è³ª: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ### â™¿ ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£: {{è©•ä¾¡}}
> {{å•é¡Œç‚¹ã¾ãŸã¯ã€Œå•é¡Œãªã—ã€}}
>
> ---
>
> ### ğŸ”§ æ”¹å–„ææ¡ˆ
>
> 1. {{å…·ä½“çš„ãªæ”¹å–„ç‚¹1}}
> 2. {{å…·ä½“çš„ãªæ”¹å–„ç‚¹2}}
>
> **è‡ªå‹•ã§ä¿®æ­£ã—ã¾ã™ã‹ï¼Ÿ** (y / n / é¸æŠ)

### Step 4: æ”¹å–„ã®å®Ÿè¡Œï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼æ‰¿èªå¾Œï¼‰

æ‰¿èªã•ã‚ŒãŸæ”¹å–„ã‚’è‡ªå‹•ã§å®Ÿè¡Œï¼š

```bash
# ä¾‹: ESLintè‡ªå‹•ä¿®æ­£
npx eslint --fix src/

# ä¾‹: Prettieré©ç”¨
npx prettier --write src/
```

### Step 5: å®Œäº†å ±å‘Š

> âœ… **ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Œäº†**
>
> **ä¿®æ­£ã—ãŸé …ç›®:**
> - {{ä¿®æ­£1}}
> - {{ä¿®æ­£2}}
>
> **æ¬¡ã«ã‚„ã‚‹ã“ã¨:**
> ã€Œã‚³ãƒŸãƒƒãƒˆã—ã¦ã€ã¾ãŸã¯ã€Œæ¬¡ã®ãƒ•ã‚§ãƒ¼ã‚ºã¸ã€ã¨è¨€ã£ã¦ãã ã•ã„ã€‚

---

## ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹ã®è©³ç´°

### ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£

```typescript
// âŒ æ‚ªã„ä¾‹
const apiKey = "sk-1234567890"  // ãƒãƒ¼ãƒ‰ã‚³ãƒ¼ãƒ‰

// âœ… è‰¯ã„ä¾‹
const apiKey = process.env.API_KEY  // ç’°å¢ƒå¤‰æ•°
```

### ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹

```typescript
// âŒ æ‚ªã„ä¾‹
const Component = () => {
  const data = heavyCalculation()  // æ¯å›è¨ˆç®—
  return <div>{data}</div>
}

// âœ… è‰¯ã„ä¾‹
const Component = () => {
  const data = useMemo(() => heavyCalculation(), [])
  return <div>{data}</div>
}
```

### ã‚³ãƒ¼ãƒ‰å“è³ª

```typescript
// âŒ æ‚ªã„ä¾‹
function f(x: any) { return x.y.z }  // anyå‹ã€ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãªã—

// âœ… è‰¯ã„ä¾‹
function getNestedValue(obj: NestedObject): string | null {
  return obj?.y?.z ?? null
}
```

---

## VibeCoder å‘ã‘ç°¡æ˜“ç‰ˆ

æŠ€è¡“çš„ãªè©³ç´°ãŒä¸è¦ãªå ´åˆï¼š

> ğŸ“Š **ãƒã‚§ãƒƒã‚¯çµæœ**
>
> - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£: âœ… OK
> - é€Ÿåº¦: âœ… OK
> - ã‚³ãƒ¼ãƒ‰å“è³ª: âš ï¸ 2ä»¶ã®æ”¹å–„ç‚¹
>
> ã€Œç›´ã—ã¦ã€ã¨è¨€ãˆã°è‡ªå‹•ã§ä¿®æ­£ã—ã¾ã™ã€‚

---

## ã‚ªãƒ—ã‚·ãƒ§ãƒ³

```
/review              # å…¨ã¦ãƒã‚§ãƒƒã‚¯
/review security     # ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã®ã¿
/review performance  # ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã®ã¿
/review quick        # ç°¡æ˜“ãƒã‚§ãƒƒã‚¯
```
