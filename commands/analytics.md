---
description: "[ã‚ªãƒ—ã‚·ãƒ§ãƒ³] Analyticsçµ±åˆï¼ˆGA/Vercel Analytics ç­‰ï¼‰"
---

# /analytics - Analyticsçµ±åˆ

Google Analytics ã¾ãŸã¯ Vercel Analytics ã‚’çµ±åˆã—ã¾ã™ã€‚

**æ©Ÿèƒ½**:
- âœ… ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼è¿½è·¡
- âœ… ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡
- âœ… ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³è¿½è·¡
- âœ… ãƒ¦ãƒ¼ã‚¶ãƒ¼è¡Œå‹•åˆ†æ

---

## ä½¿ç”¨ã™ã‚‹ã‚¹ã‚­ãƒ«

ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ä»¥ä¸‹ã®ã‚¹ã‚­ãƒ«ã‚’æ´»ç”¨ã—ã¾ã™ï¼š

- `ccp-work-impl-feature` - ã‚¢ãƒŠãƒªãƒ†ã‚£ã‚¯ã‚¹çµ±åˆ
- `ccp-verify-build` - ãƒ“ãƒ«ãƒ‰æ¤œè¨¼

---

## ğŸ’¡ ãƒã‚¤ãƒ–ã‚³ãƒ¼ãƒ€ãƒ¼å‘ã‘ã®ä½¿ã„æ–¹

**ã“ã®ã‚³ãƒãƒ³ãƒ‰ã¯ã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«æˆæœã‚’å ±å‘Šã™ã‚‹ãŸã‚ã®Analyticsã‚’ç°¡å˜ã«å°å…¥ã§ãã¾ã™ã€‚**

- âœ… ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼æ•°ã‚’è¿½è·¡
- âœ… ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯ãªã©ã®ã‚¤ãƒ™ãƒ³ãƒˆã‚’è¨˜éŒ²
- âœ… ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡ã‚’æ¸¬å®š
- âœ… ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã‚’å…±æœ‰

**å—è¨—é–‹ç™ºã§é‡è¦**: ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«ã€Œã©ã‚Œã ã‘ã‚¢ã‚¯ã‚»ã‚¹ãŒã‚ã£ãŸã‹ã€ã‚’å ±å‘Šã§ãã¾ã™

---

## ä½¿ã„æ–¹

```
/analytics google
```

â†’ Google Analyticsã‚’çµ±åˆ

```
/analytics vercel
```

â†’ Vercel Analyticsã‚’çµ±åˆ

---

## å®Ÿè¡Œãƒ•ãƒ­ãƒ¼

### Step 1: Analyticsãƒ—ãƒ­ãƒã‚¤ãƒ€ãƒ¼ã®ç¢ºèª

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®å…¥åŠ›ã‚’ç¢ºèªã€‚å…¥åŠ›ãŒãªã„å ´åˆã¯è³ªå•ï¼š

> ğŸ¯ **ã©ã®Analyticsã‚’ä½¿ç”¨ã—ã¾ã™ã‹ï¼Ÿ**
>
> 1. Google Analyticsï¼ˆæ¨å¥¨: ç„¡æ–™ã€é«˜æ©Ÿèƒ½ï¼‰
> 2. Vercel Analyticsï¼ˆæ¨å¥¨: Vercelãƒ‡ãƒ—ãƒ­ã‚¤æ™‚ï¼‰
> 3. ä¸¡æ–¹
>
> ç•ªå·ã§ç­”ãˆã¦ãã ã•ã„ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 1ï¼‰

**å›ç­”ã‚’å¾…ã¤**

---

## Google Analyticsã®å ´åˆ

### Step 2: Google Analyticsãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã®ä½œæˆã‚¬ã‚¤ãƒ‰

> ğŸ“¦ **Google Analyticsãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½œæˆã—ã¦ãã ã•ã„ï¼š**
>
> 1. https://analytics.google.com ã«ã‚¢ã‚¯ã‚»ã‚¹
> 2. ã€Œç®¡ç†ã€â†’ã€Œãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã‚’ä½œæˆã€
> 3. ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£åã‚’å…¥åŠ›
> 4. ã€Œãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆãƒªãƒ¼ãƒ ã€â†’ã€Œã‚¦ã‚§ãƒ–ã€ã‚’é¸æŠ
> 5. æ¸¬å®šIDã‚’ã‚³ãƒ”ãƒ¼: `G-XXXXXXXXXX`
>
> **å®Œäº†ã—ãŸã‚‰ã€ŒOKã€ã¨ç­”ãˆã¦ãã ã•ã„ã€‚**

**å›ç­”ã‚’å¾…ã¤**

### Step 3: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @next/third-parties
```

### Step 4: ç’°å¢ƒå¤‰æ•°ã®è¨­å®š

#### `.env.local`

```env
NEXT_PUBLIC_GA_MEASUREMENT_ID=G-XXXXXXXXXX
```

### Step 5: Google Analyticsã®è¨­å®š

#### `app/layout.tsx`

```typescript
import { GoogleAnalytics } from '@next/third-parties/google'

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="ja">
      <body>
        {children}
        <GoogleAnalytics gaId={process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID!} />
      </body>
    </html>
  )
}
```

### Step 6: ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ã®å®Ÿè£…

#### `lib/analytics.ts`

```typescript
export const GA_MEASUREMENT_ID = process.env.NEXT_PUBLIC_GA_MEASUREMENT_ID

// ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼
export const pageview = (url: string) => {
  if (typeof window.gtag !== 'undefined') {
    window.gtag('config', GA_MEASUREMENT_ID!, {
      page_path: url,
    })
  }
}

// ã‚¤ãƒ™ãƒ³ãƒˆ
export const event = ({ action, category, label, value }: {
  action: string
  category: string
  label?: string
  value?: number
}) => {
  if (typeof window.gtag !== 'undefined') {
    window.gtag('event', action, {
      event_category: category,
      event_label: label,
      value: value,
    })
  }
}
```

### Step 7: ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ã®ä½¿ç”¨ä¾‹

#### `components/cta-button.tsx`

```typescript
'use client'

import { Button } from '@/components/ui/button'
import { event } from '@/lib/analytics'

export function CTAButton() {
  const handleClick = () => {
    // ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡
    event({
      action: 'click',
      category: 'CTA',
      label: 'ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«',
    })

    // å®Ÿéš›ã®å‡¦ç†
    window.location.href = '/signup'
  }

  return (
    <Button onClick={handleClick}>
      ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ã‚’å§‹ã‚ã‚‹
    </Button>
  )
}
```

---

## Vercel Analyticsã®å ´åˆ

### Step 2: Vercel Analyticsã®æœ‰åŠ¹åŒ–ã‚¬ã‚¤ãƒ‰

> ğŸ“¦ **Vercel Analyticsã‚’æœ‰åŠ¹åŒ–ã—ã¦ãã ã•ã„ï¼š**
>
> 1. Vercel Dashboard > ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠ
> 2. ã€ŒAnalyticsã€ã‚¿ãƒ–ã‚’ã‚¯ãƒªãƒƒã‚¯
> 3. ã€ŒEnable Analyticsã€ã‚’ã‚¯ãƒªãƒƒã‚¯
>
> **å®Œäº†ã—ãŸã‚‰ã€ŒOKã€ã¨ç­”ãˆã¦ãã ã•ã„ã€‚**

**å›ç­”ã‚’å¾…ã¤**

### Step 3: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

```bash
npm install @vercel/analytics
```

### Step 4: Vercel Analyticsã®è¨­å®š

#### `app/layout.tsx`

```typescript
import { Analytics } from '@vercel/analytics/react'

export default function RootLayout({ children }: { children: React.ReactNode }) {
  return (
    <html lang="ja">
      <body>
        {children}
        <Analytics />
      </body>
    </html>
  )
}
```

### Step 5: ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ã®å®Ÿè£…

#### `components/cta-button.tsx`

```typescript
'use client'

import { Button } from '@/components/ui/button'
import { track } from '@vercel/analytics'

export function CTAButton() {
  const handleClick = () => {
    // ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡
    track('CTA Click', { label: 'ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«' })

    // å®Ÿéš›ã®å‡¦ç†
    window.location.href = '/signup'
  }

  return (
    <Button onClick={handleClick}>
      ç„¡æ–™ãƒˆãƒ©ã‚¤ã‚¢ãƒ«ã‚’å§‹ã‚ã‚‹
    </Button>
  )
}
```

---

## å…±é€š: è¿½è·¡ã™ã¹ãã‚¤ãƒ™ãƒ³ãƒˆ

### 1. ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ

```typescript
// ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ—
event({ action: 'signup', category: 'conversion', label: 'email' })

// è³¼å…¥
event({ action: 'purchase', category: 'conversion', value: 2980 })

// å•ã„åˆã‚ã›
event({ action: 'contact', category: 'conversion', label: 'form' })
```

### 2. ã‚¨ãƒ³ã‚²ãƒ¼ã‚¸ãƒ¡ãƒ³ãƒˆã‚¤ãƒ™ãƒ³ãƒˆ

```typescript
// ãƒœã‚¿ãƒ³ã‚¯ãƒªãƒƒã‚¯
event({ action: 'click', category: 'engagement', label: 'CTA' })

// ãƒ“ãƒ‡ã‚ªå†ç”Ÿ
event({ action: 'play', category: 'engagement', label: 'intro_video' })

// ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
event({ action: 'download', category: 'engagement', label: 'whitepaper' })
```

### 3. ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚¤ãƒ™ãƒ³ãƒˆ

```typescript
// å¤–éƒ¨ãƒªãƒ³ã‚¯
event({ action: 'outbound', category: 'navigation', label: 'github' })

// ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«æ·±åº¦
event({ action: 'scroll', category: 'navigation', value: 75 })
```

---

## ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘ãƒ¬ãƒãƒ¼ãƒˆ

### Step 8: ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã®ä½œæˆ

#### `.claude/analytics-report-template.md`

```markdown
# Analyticsãƒ¬ãƒãƒ¼ãƒˆ

**æœŸé–“**: YYYY-MM-DD ã€œ YYYY-MM-DD
**ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: [ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆå]

---

## ã‚µãƒãƒªãƒ¼

| æŒ‡æ¨™ | å€¤ |
|------|-----|
| ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ | XX,XXX |
| ãƒ¦ãƒ‹ãƒ¼ã‚¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ | X,XXX |
| å¹³å‡ã‚»ãƒƒã‚·ãƒ§ãƒ³æ™‚é–“ | Xåˆ†XXç§’ |
| ç›´å¸°ç‡ | XX% |

---

## ä¸»è¦ãƒšãƒ¼ã‚¸

| ãƒšãƒ¼ã‚¸ | ãƒšãƒ¼ã‚¸ãƒ“ãƒ¥ãƒ¼ | å‰²åˆ |
|--------|-------------|------|
| ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ | XX,XXX | XX% |
| è£½å“ãƒšãƒ¼ã‚¸ | X,XXX | XX% |
| å•ã„åˆã‚ã› | XXX | XX% |

---

## ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³

| ã‚¤ãƒ™ãƒ³ãƒˆ | å›æ•° | ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡ |
|---------|------|----------------|
| ã‚µã‚¤ãƒ³ã‚¢ãƒƒãƒ— | XXX | X.X% |
| è³¼å…¥ | XX | X.X% |
| å•ã„åˆã‚ã› | XX | X.X% |

---

## æ¨å¥¨äº‹é …

1. **ãƒˆãƒƒãƒ—ãƒšãƒ¼ã‚¸ã®æ”¹å–„**: ç›´å¸°ç‡ãŒé«˜ã„ãŸã‚ã€CTAã‚’å¼·åŒ–
2. **è£½å“ãƒšãƒ¼ã‚¸ã®æœ€é©åŒ–**: æ»åœ¨æ™‚é–“ãŒçŸ­ã„ãŸã‚ã€ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’å……å®Ÿ
3. **å•ã„åˆã‚ã›ãƒ•ã‚©ãƒ¼ãƒ ã®ç°¡ç•¥åŒ–**: å…¥åŠ›é …ç›®ã‚’å‰Šæ¸›ã—ã¦ã‚³ãƒ³ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç‡ã‚’å‘ä¸Š

---

**æ¬¡å›ãƒ¬ãƒãƒ¼ãƒˆ**: YYYY-MM-DD
```

---

## æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’æ¡ˆå†…

> âœ… **Analyticsçµ±åˆãŒå®Œäº†ã—ã¾ã—ãŸï¼**
>
> ğŸ“„ **ç”Ÿæˆã—ãŸãƒ•ã‚¡ã‚¤ãƒ«**:
> - `app/layout.tsx` - Analyticsè¨­å®š
> - `lib/analytics.ts` - ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡é–¢æ•°
> - `.claude/analytics-report-template.md` - ãƒ¬ãƒãƒ¼ãƒˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆ
>
> **æ¬¡ã«ã‚„ã‚‹ã“ã¨ï¼š**
> 1. ç’°å¢ƒå¤‰æ•°ã‚’ `.env.local` ã«è¿½åŠ 
> 2. å‹•ä½œç¢ºèª: `npm run dev`
> 3. ã‚¤ãƒ™ãƒ³ãƒˆè¿½è·¡ã‚’ãƒ†ã‚¹ãƒˆï¼ˆãƒ–ãƒ©ã‚¦ã‚¶ã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§ç¢ºèªï¼‰
> 4. ãƒ‡ãƒ—ãƒ­ã‚¤å¾Œã€Google Analytics Dashboardã§ãƒ‡ãƒ¼ã‚¿ã‚’ç¢ºèª
>
> ğŸ’¡ **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆå‘ã‘**: å®šæœŸçš„ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’ä½œæˆã—ã¦å…±æœ‰ã—ã¾ã—ã‚‡ã†ã€‚

---

## æ³¨æ„äº‹é …

- **ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼**: CookieåŒæ„ãƒãƒŠãƒ¼ã®è¨­ç½®ã‚’æ¨å¥¨ï¼ˆGDPRå¯¾å¿œï¼‰
- **ãƒ†ã‚¹ãƒˆ**: æœ¬ç•ªç’°å¢ƒã§ã®ã¿æœ‰åŠ¹åŒ–ï¼ˆé–‹ç™ºç’°å¢ƒã§ã¯ç„¡åŠ¹åŒ–ï¼‰
- **ãƒ‡ãƒ¼ã‚¿ä¿æŒ**: Google Analyticsã®ãƒ‡ãƒ¼ã‚¿ä¿æŒæœŸé–“ã‚’è¨­å®š
- **ãƒ¬ãƒãƒ¼ãƒˆ**: æœˆæ¬¡ã§ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã«å ±å‘Š

**ã“ã®Analyticsçµ±åˆã§ã€ãƒ‡ãƒ¼ã‚¿ãƒ‰ãƒªãƒ–ãƒ³ãªæ”¹å–„ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚**
