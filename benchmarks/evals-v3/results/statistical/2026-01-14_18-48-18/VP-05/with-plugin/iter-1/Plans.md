# 🎯 プロジェクト: データ表示アプリ

## 概要

- **目的**: データを画面に表示するシンプルなアプリ
- **対象**: 個人利用・学習目的
- **スコープ**: MVP（最小限で動くもの）
- **設計方針**: 機能追加しやすく、でもシンプルに

## 技術スタック

- **バックエンド**: Express + TypeScript（既存構成を活用）
- **フロントエンド**: シンプルな HTML + JavaScript（フレームワーク不要）
- **データ保存**: JSON ファイル（DB 不要で手軽）
- **テスト**: Vitest（既存構成を活用）

---

## 🔴 フェーズ1: 基盤構築 `cc:TODO`

### 1.1 プロジェクト構造の整備
- [ ] `src/server.ts` - Express サーバーのエントリポイント作成
- [ ] `src/types/` - 型定義ディレクトリ作成
- [ ] `src/routes/` - ルート定義ディレクトリ作成
- [ ] `src/data/` - データ保存用ディレクトリ作成

### 1.2 型定義の作成 `[feature:tdd]`
- [ ] `src/types/item.ts` - Item 型の定義

**テストケース設計（実装前に合意）:**

| テストケース | 入力 | 期待出力 | 備考 |
|-------------|------|---------|------|
| 正常系: 基本 | `{id: "1", name: "テスト", createdAt: "..."}` | 型チェック通過 | 必須フィールド |
| 異常系: id なし | `{name: "テスト"}` | コンパイルエラー | TypeScript で防ぐ |

---

## 🟡 フェーズ2: API 実装 `cc:TODO`

### 2.1 サーバー起動 `[feature:tdd]`
- [ ] Express サーバー基本設定（CORS, JSON パーサー）
- [ ] ヘルスチェックエンドポイント `GET /health`

**テストケース設計:**

| テストケース | 入力 | 期待出力 | 備考 |
|-------------|------|---------|------|
| 正常系: ヘルスチェック | GET /health | `{ status: "ok" }` | サーバー死活確認用 |

### 2.2 データ取得 API `[feature:tdd]`
- [ ] `GET /api/items` - 全データ取得

**テストケース設計:**

| テストケース | 入力 | 期待出力 | 備考 |
|-------------|------|---------|------|
| 正常系: データあり | GET /api/items | `[{id, name, createdAt}, ...]` | 配列で返す |
| 正常系: データなし | GET /api/items | `[]` | 空配列 |

### 2.3 データ追加 API `[feature:tdd]`
- [ ] `POST /api/items` - 新規データ追加

**テストケース設計:**

| テストケース | 入力 | 期待出力 | 備考 |
|-------------|------|---------|------|
| 正常系: 追加成功 | `{name: "新アイテム"}` | `{id, name, createdAt}` | id は自動生成 |
| 異常系: name なし | `{}` | 400 エラー | バリデーション |
| 異常系: name 空文字 | `{name: ""}` | 400 エラー | 空文字拒否 |

### 2.4 データ削除 API `[feature:tdd]`
- [ ] `DELETE /api/items/:id` - データ削除

**テストケース設計:**

| テストケース | 入力 | 期待出力 | 備考 |
|-------------|------|---------|------|
| 正常系: 削除成功 | DELETE /api/items/1 | 204 No Content | 成功時はボディなし |
| 異常系: 存在しないID | DELETE /api/items/999 | 404 エラー | 存在チェック |

---

## 🟢 フェーズ3: 画面実装 `cc:TODO`

### 3.1 HTML ページ `[feature:a11y]`
- [ ] `public/index.html` - データ表示画面
- [ ] シンプルなスタイリング（CSS）

### 3.2 JavaScript でデータ表示
- [ ] API からデータ取得して表示
- [ ] 追加フォーム
- [ ] 削除ボタン

---

## 🔵 フェーズ4: 仕上げ `cc:TODO`

- [ ] 動作確認（手動テスト）
- [ ] README 更新（使い方）

---

## 拡張方法（将来）

新しいデータ種類を追加したい場合：

1. `src/types/` に新しい型定義を追加
2. `src/routes/` に新しいルートファイルを追加
3. `src/data/` に新しい JSON ファイルを追加
4. `src/server.ts` でルートを登録

この構造なら、既存コードを変更せずに機能追加できます。
