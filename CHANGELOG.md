# Changelog

claude-code-harness の変更履歴です。

> **📝 記載ルール**: このCHANGELOGは「ユーザー目線で何がどう変わったか」を記載します。
> - **Before/After** を明確に
> - 技術的な詳細より「使い方の変化」「体験の改善」を優先
> - 「あなたにとって何が嬉しいか」がわかるように

---

## [Unreleased]

---

## [2.5.22] - 2025-12-23

### 🎯 あなたにとって何が変わるか

**プラグイン更新が確実に反映されるようになりました。「更新したのに古いまま」がなくなります。**

#### Before
- プラグインを更新しても、キャッシュが古いままで反映されないことがあった
- 手動でキャッシュを削除して再インストールする必要があった

#### After
- **新しいセッションを開始するだけで最新版が自動反映**
- 手動操作は不要

---

## [2.5.14] - 2025-12-22

### 🎯 あなたにとって何が変わるか

**2-Agent ワークフローでレビュー後のハンドオフが自動化されました。**

#### Before
- `/review-cc-work` でレビュー後、別途 `/handoff-to-claude` を実行する必要があった
- 承認時に「次タスクの分析 → 依頼文生成」を手動で行っていた

#### After
- **`/review-cc-work` が承認/修正依頼どちらでもハンドオフを自動生成**
- 承認時は次タスクを自動分析、修正依頼時は指示を含む依頼文を生成

---

## [2.5.13] - 2025-12-21

### 🎯 あなたにとって何が変わるか

**LSP（コード分析）が必要な場面で自動的に使われるようになりました。**

#### Before
- LSP の使用は任意で、使わなくてもコード編集できた
- コード変更前の影響分析をスキップしがちだった

#### After
- **コード変更時、LSP 分析が自動で推奨される**（LSP導入済みの場合）
- LSP未導入でも作業は継続可能（`/lsp-setup` で簡単導入）
- 公式LSPプラグイン全10種をサポート

---

## [2.5.10] - 2025-12-21

### 🎯 あなたにとって何が変わるか

**LSP のセットアップが簡単になりました。**

#### Before
- LSP の設定方法が複数あり、どれを使えばいいかわからなかった

#### After
- **`/lsp-setup` で公式プラグインを自動検出・提案**
- 3ステップでセットアップ完了

---

## [2.5.9] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**既存プロジェクトへの LSP 導入が簡単になりました。**

#### Before
- 既存プロジェクトに LSP 設定を追加する手順が不明確だった

#### After
- **`/lsp-setup` で既存プロジェクトに一括導入**
- 言語別インストールコマンド一覧を追加

---

## [2.5.8] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**LSP でコードの定義元や使用箇所を即座に確認できるようになりました。**

#### Before
- コードの定義元や参照箇所を手動で検索していた
- 型エラーはビルド時にしか検出できなかった

#### After
- **「この関数の定義はどこ？」** → 即座にジャンプ
- **「この変数はどこで使われてる？」** → 使用箇所を一覧表示
- **ビルド前に型エラーを検出**

---

## [2.5.7] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**2-Agent モードのセットアップ漏れを自動検出するようになりました。**

#### Before
- 2-Agent モードを選択したのに、Cursor コマンドが生成されないことがあった
- 何が不足しているか分からなかった

#### After
- **セットアップ完了時に必須ファイルを自動チェック**
- 不足ファイルを自動で再生成

---

## [2.5.6] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**アップデート時に古い設定を自動修正するようになりました。**

#### Before
- アップデート後も間違った設定が残ったまま

#### After
- **`/harness-update` が破壊的変更を検出して自動修正を提案**

---

## [2.5.5] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**既存プロジェクトを最新版に安全にアップデートできるようになりました。**

#### Before
- 既存プロジェクトを最新版に更新する方法がなかった
- アップデート時に設定やタスクが失われるリスクがあった

#### After
- **`/harness-update` で安全にアップデート**
- 自動バックアップ、非破壊更新

---

## [2.5.4] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**settings.json の間違った構文が生成されるバグを修正しました。**

---

## [2.5.3] - 2025-12-20

### 🎯 あなたにとって何が変わるか

**スキル名がシンプルになりました。**

#### Before
- スキル名が `ccp-work-impl-feature` のように長かった

#### After
- **`impl-feature` のように直感的な名前に**

---

## [2.5.2] - 2025-12-19

### 🎯 あなたにとって何が変わるか

**スキルの誤起動が減りました。**

- 各スキルに「いつ使う / いつ使わない」を明示
- MCP ワイルドカード許可の設定例を追加

---

## [2.5.1] - 2025-12-19

### 🎯 あなたにとって何が変わるか

**編集のたびに確認が出る問題を解消しました。**

#### Before
- Edit/Write のたびに確認が出て作業が止まりがちだった

#### After
- **bypassPermissions で確認を減らしつつ、危険操作はガード**

---

## [2.5.0] - 2025-12-19

### 🎯 あなたにとって何が変わるか

**Plans.md でタスクの依存関係や並列実行を表現できるようになりました。**

#### Before
- `/start-task` と `/work` の使い分けが必要だった
- タスクの依存関係を表現できなかった

#### After
- **`/work` だけでOK**（`/start-task` 廃止）
- **`[depends:X]`, `[parallel:A,B]` 記法で依存関係を表現**

---

## [2.4.1] - 2025-12-17

### 🎯 あなたにとって何が変わるか

**プラグイン名が「Claude harness」に変わりました。**

- シンプルで覚えやすい名前に
- 新しいロゴとヒーロー画像

---

## [2.4.0] - 2025-12-17

### 🎯 あなたにとって何が変わるか

**レビューやCI修正が並列実行で高速化しました。**

#### Before
- 4つの観点（セキュリティ/パフォーマンス/品質/アクセシビリティ）を順番にチェック

#### After
- **条件を満たす場合、4つのサブエージェントを同時起動**
- 最大75%の時間短縮

---

## [2.3.4] - 2025-12-17

### 🎯 あなたにとって何が変わるか

**コード変更時にバージョンが自動で上がるようになりました。**

- pre-commit フックでパッチバージョンを自動バンプ
- Windows でも動作

---

## [2.3.3] - 2025-12-17

### 🎯 あなたにとって何が変わるか

**スキルが目的別に整理されました。**

- 14カテゴリ: impl, review, verify, setup, 2agent, memory, principles, auth, deploy, ui, workflow, docs, ci, maintenance
- 「レビューして」→ `review` カテゴリで見つかる

---

## [2.3.2] - 2025-12-16

### 🎯 あなたにとって何が変わるか

**スキルがより確実に起動するようになりました。**

---

## [2.3.1] - 2025-12-16

### 🎯 あなたにとって何が変わるか

**日本語/英語を選べるようになりました。**

- `/harness-init` で言語選択（JA/EN）

---

## [2.3.0] - 2025-12-16

### 🎯 あなたにとって何が変わるか

**ライセンスがMITに戻りました。**

- 公式リポジトリへの貢献が可能に

---

## [2.2.1] - 2025-12-16

### 🎯 あなたにとって何が変わるか

**エージェントがより賢く動くようになりました。**

- 各エージェントが使えるツールを明示
- 並列実行時に色で識別しやすく

---

## [2.2.0] - 2025-12-15

### 🎯 あなたにとって何が変わるか

**ライセンスが独自ライセンスに変更されました（後にMITに戻りました）。**

---

## [2.1.2] - 2025-12-15

### 🎯 あなたにとって何が変わるか

**`/work` だけで並列実行できるようになりました。**

- `/parallel-tasks` を `/work` に統合

---

## [2.1.1] - 2025-12-15

### 🎯 あなたにとって何が変わるか

**コマンドを覚える必要が大幅に減りました。**

- 27個 → 16個に削減
- 残りは会話で自動起動（スキル化）

---

## [2.0.0] - 2025-12-13

### 🎯 あなたにとって何が変わるか

**Hooks によるガードレール機能を追加。Cursor連携テンプレートを追加。**

- PreToolUse/PermissionRequest hooks
- `/handoff-to-cursor` コマンド

---

## 過去の履歴（v0.x - v1.x）

詳細は [GitHub Releases](https://github.com/Chachamaru127/claude-code-harness/releases) を参照してください。

主なマイルストーン:
- **v0.5.0**: 適応型セットアップ（技術スタック自動検出）
- **v0.4.0**: Claude Rules、Plugin Hooks、Named Sessions 対応
- **v0.3.0**: 初期リリース（Plan → Work → Review サイクル）
