# ã‚³ãƒŸãƒƒãƒˆåˆ¤å®šãƒ­ã‚¸ãƒƒã‚¯

harness-review ã®æœ€çµ‚åˆ¤å®šï¼ˆAPPROVE / REQUEST CHANGES / REJECTï¼‰ã‚’å‡ºåŠ›ã™ã‚‹ãŸã‚ã®ãƒ­ã‚¸ãƒƒã‚¯ã€‚

## åˆ¤å®šåŸºæº–

| åˆ¤å®š | æ¡ä»¶ | æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ |
|------|------|---------------|
| **APPROVE** | Critical: 0, High: 0, Medium: â‰¤3 | ã‚³ãƒŸãƒƒãƒˆ OK |
| **REQUEST CHANGES** | Critical: 0, High: â‰¥1 ã¾ãŸã¯ Medium: >3 | è‡ªå‹•ä¿®æ­£ â†’ å†åˆ¤å®š |
| **REJECT** | Critical: â‰¥1 | æ‰‹å‹•å¯¾å¿œå¿…è¦ |

### Severity å®šç¾©

| Severity | å®šç¾© | ä¾‹ |
|----------|------|-----|
| **Critical** | ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£è„†å¼±æ€§ã€ãƒ‡ãƒ¼ã‚¿æå¤±ãƒªã‚¹ã‚¯ | SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ã€èªè¨¼ãƒã‚¤ãƒ‘ã‚¹ |
| **High** | é‡å¤§ãªãƒã‚°ã€ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å•é¡Œ | ç„¡é™ãƒ«ãƒ¼ãƒ—ã€N+1 ã‚¯ã‚¨ãƒª |
| **Medium** | ã‚³ãƒ¼ãƒ‰å“è³ªå•é¡Œã€ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹é•å | æœªä½¿ç”¨å¤‰æ•°ã€ä¸é©åˆ‡ãªå‘½å |
| **Low** | ã‚¹ã‚¿ã‚¤ãƒ«ã€è»½å¾®ãªæ”¹å–„ææ¡ˆ | ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã€ã‚³ãƒ¡ãƒ³ãƒˆè¿½åŠ  |

## åˆ¤å®šãƒ•ãƒ­ãƒ¼

```
ãƒ¬ãƒ“ãƒ¥ãƒ¼çµæœåé›†
    â†“
Severity é›†è¨ˆ
    â”œâ”€â”€ Critical >= 1 â†’ REJECT
    â”œâ”€â”€ High >= 1 || Medium > 3 â†’ REQUEST CHANGES
    â””â”€â”€ ãã‚Œä»¥å¤– â†’ APPROVE
    â†“
åˆ¤å®šå‡ºåŠ›
```

## å‡ºåŠ›å½¢å¼

### APPROVE

```markdown
## ğŸš¦ ã‚³ãƒŸãƒƒãƒˆåˆ¤å®š: APPROVE âœ…

**åˆ¤å®šç†ç”±**: é‡å¤§ãªå•é¡Œãªã—

| Severity | ä»¶æ•° |
|----------|------|
| Critical | 0 |
| High | 0 |
| Medium | 2 |
| Low | 5 |

ğŸ“ **Low/Medium ã®æŒ‡æ‘˜**ï¼ˆä»»æ„å¯¾å¿œï¼‰:
- [Medium] `src/utils/helpers.ts:45` - æœªä½¿ç”¨ã® import
- [Medium] `src/components/Form.tsx:78` - any å‹ã®ä½¿ç”¨

**æ¬¡ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**: `git commit` ã§ã‚³ãƒŸãƒƒãƒˆå¯èƒ½ã§ã™
```

### REQUEST CHANGES

```markdown
## ğŸš¦ ã‚³ãƒŸãƒƒãƒˆåˆ¤å®š: REQUEST CHANGES ğŸŸ¡

**åˆ¤å®šç†ç”±**: ä¿®æ­£å¯èƒ½ãªå•é¡Œã‚ã‚Š

| Severity | ä»¶æ•° |
|----------|------|
| Critical | 0 |
| High | 2 |
| Medium | 4 |
| Low | 3 |

ğŸ“ **ä¿®æ­£ãŒå¿…è¦ãªé …ç›®**:

| # | Severity | ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | ä¿®æ­£æ¡ˆ |
|---|----------|---------|------|--------|
| 1 | High | `src/api/users.ts:34` | N+1 ã‚¯ã‚¨ãƒª | `include` ã§äº‹å‰å–å¾— |
| 2 | High | `src/pages/login.tsx:56` | XSS è„†å¼±æ€§ | `sanitize()` ã‚’è¿½åŠ  |

**è‡ªå‹•ä¿®æ­£ã‚’å®Ÿè¡Œã—ã¾ã™ã‹ï¼Ÿ** [Y/N]

> è‡ªå‹•ä¿®æ­£å¾Œã€å†åº¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿè¡Œã—ã¦åˆ¤å®šã—ã¾ã™ï¼ˆæœ€å¤§3å›ï¼‰
```

### REJECT

```markdown
## ğŸš¦ ã‚³ãƒŸãƒƒãƒˆåˆ¤å®š: REJECT âŒ

**åˆ¤å®šç†ç”±**: é‡å¤§ãªã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£å•é¡Œ

| Severity | ä»¶æ•° |
|----------|------|
| Critical | 1 |
| High | 3 |
| Medium | 2 |
| Low | 1 |

ğŸš¨ **Critical ãªå•é¡Œ**:

| # | ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ | å½±éŸ¿ |
|---|---------|------|------|
| 1 | `src/api/auth.ts:45` | SQL ã‚¤ãƒ³ã‚¸ã‚§ã‚¯ã‚·ãƒ§ãƒ³ | ãƒ‡ãƒ¼ã‚¿æ¼æ´©ãƒªã‚¹ã‚¯ |

**æ‰‹å‹•å¯¾å¿œãŒå¿…è¦ã§ã™**:
1. ä¸Šè¨˜ã® Critical å•é¡Œã‚’ä¿®æ­£
2. å†åº¦ `/harness-review` ã‚’å®Ÿè¡Œ

> âš ï¸ è‡ªå‹•ä¿®æ­£ã¯ Critical å•é¡Œã«ã¯å¯¾å¿œã—ã¾ã›ã‚“ï¼ˆå®‰å…¨ã®ãŸã‚ï¼‰
```

## è‡ªå‹•ä¿®æ­£ãƒ«ãƒ¼ãƒ—

REQUEST CHANGES åˆ¤å®šæ™‚ã®è‡ªå‹•ä¿®æ­£ãƒ•ãƒ­ãƒ¼:

```
REQUEST CHANGES åˆ¤å®š
    â†“
ä¿®æ­£æ¡ˆã‚’ç”Ÿæˆ
    â†“
Claude ãŒä¿®æ­£å®Ÿè¡Œ
    â†“
å†åº¦ãƒ¬ãƒ“ãƒ¥ãƒ¼ â†’ åˆ¤å®š
    â”‚
    â”œâ”€â”€ APPROVE â†’ å®Œäº†
    â”œâ”€â”€ REQUEST CHANGES â†’ ãƒ«ãƒ¼ãƒ—ï¼ˆæœ€å¤§3å›ï¼‰
    â””â”€â”€ REJECT â†’ æ‰‹å‹•å¯¾å¿œ
```

### ãƒªãƒˆãƒ©ã‚¤ä¸Šé™åˆ°é”æ™‚

```markdown
## âš ï¸ è‡ªå‹•ä¿®æ­£ä¸Šé™ã«åˆ°é”

3å›ã®è‡ªå‹•ä¿®æ­£ã‚’è©¦ã¿ã¾ã—ãŸãŒã€ä»¥ä¸‹ã®å•é¡ŒãŒæ®‹ã£ã¦ã„ã¾ã™:

| # | Severity | ãƒ•ã‚¡ã‚¤ãƒ« | å†…å®¹ |
|---|----------|---------|------|
| 1 | High | `src/api/users.ts:34` | N+1 ã‚¯ã‚¨ãƒª |

**æ¨å¥¨ã‚¢ã‚¯ã‚·ãƒ§ãƒ³**:
1. æ‰‹å‹•ã§ä¸Šè¨˜ã‚’ä¿®æ­£
2. å†åº¦ `/harness-review` ã‚’å®Ÿè¡Œ

> ğŸ’¡ è¤‡é›‘ãªå•é¡Œã¯è‡ªå‹•ä¿®æ­£ãŒå›°é›£ãªå ´åˆãŒã‚ã‚Šã¾ã™
```

## Codex ãƒ¢ãƒ¼ãƒ‰ã¨ã®çµ±åˆ

Codex ãƒ¢ãƒ¼ãƒ‰æ™‚ã¯ã€å„ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆã‹ã‚‰ã®æŒ‡æ‘˜ã‚’é›†ç´„ã—ã¦åˆ¤å®š:

```
Codex ä¸¦åˆ—ãƒ¬ãƒ“ãƒ¥ãƒ¼
    â”œâ”€â”€ Security Expert â†’ findings[]
    â”œâ”€â”€ Accessibility Expert â†’ findings[]
    â”œâ”€â”€ Performance Expert â†’ findings[]
    â”œâ”€â”€ Quality Expert â†’ findings[]
    â”œâ”€â”€ SEO Expert â†’ findings[]
    â”œâ”€â”€ Architect Expert â†’ findings[]
    â”œâ”€â”€ Plan Reviewer Expert â†’ findings[]
    â””â”€â”€ Scope Analyst Expert â†’ findings[]
    â†“
å…¨ findings ã‚’ Severity ã§é›†è¨ˆ
    â†“
åˆ¤å®šåŸºæº–ã«åŸºã¥ã„ã¦åˆ¤å®š
```

## è¨­å®šã«ã‚ˆã‚‹åˆ¶å¾¡

`.claude-code-harness.config.yaml`:

```yaml
review:
  judgment:
    enabled: true      # åˆ¤å®šã‚’å‡ºåŠ›ã™ã‚‹ã‹
    auto_fix: true     # REQUEST CHANGES æ™‚ã«è‡ªå‹•ä¿®æ­£
    max_retries: 3     # è‡ªå‹•ä¿®æ­£ã®æœ€å¤§å›æ•°
```

## é–¢é€£ãƒ•ã‚¡ã‚¤ãƒ«

- `skills/review/SKILL.md` - ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¹ã‚­ãƒ«æœ¬ä½“
- `skills/codex-review/references/codex-parallel-review.md` - Codex ä¸¦åˆ—å‘¼ã³å‡ºã—
- `commands/optional/codex-mode.md` - Codex ãƒ¢ãƒ¼ãƒ‰åˆ‡ã‚Šæ›¿ãˆ
